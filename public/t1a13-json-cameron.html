<!DOCTYPE html>
<html>
<head>
    <title>JSON Fetch Example</title>
</head>
<body>
    <h1 align="center">t1a013-json-cameron.html</h1>
    <script>
        function myShowJSON(myIn) {
            document.getElementById('myDiv').innerHTML = `Sent: ${myIn}`;
            fetchData(myIn);
        }

        async function fetchData(myUrl) {
            document.getElementById('myDiv1').innerHTML = '';
            const response = await fetch(myUrl);
            const data = await response.json();
            console.log(`data.status: ${data.status}`);
            const myJson = JSON.stringify(data, null, 2);
            document.getElementById('myDiv1').innerHTML = `<pre>${myJson}</pre>`;
        }
    </script>
    
    <p>Explanation of JSON compared to JavaScript objects formatted for this textarea:</p>
    <textarea cols="70" rows="5">
        JSON (JavaScript Object Notation) is a lightweight data-interchange format that's easy for humans to read and write and easy for machines to parse and generate. 
        Unlike JavaScript objects, which can contain functions, JSON strictly adheres to key-value pairs and only supports basic data types.
    </textarea>
    <br><br>
    Enter a JSON returning URL: <input type="text" id="myText1" size="80" value="https://randomfox.ca/floof/">
    <input type="button" value="Show JSON" onclick="fetchData(document.getElementById('myText1').value)">
    <br><br>
    <select size="1" onchange="myShowJSON(this.value)">
        <option value="https://randomfox.ca/floof/">randomfox</option>
        <option value="https://dog.ceo/api/breeds/image/random">dog.ceo</option>
        <option value="https://jsonplaceholder.typicode.com/posts">jsonplaceholder</option>
        <option value="https://api.coindesk.com/v1/bpi/currentprice.json">api.coindesk</option>
        <option value="https://randomuser.me/api/">randomuser</option>
        <option value="https://api.exchangerate-api.com/v4/latest/USD">api.exchange</option>
        <option value="https://api.agify.io/?name=micheal">api.agify</option>
        <option value="https://api.genderize.io/?name=micheal">api.genderize</option>
        <option value="https://api.nationalize.io/?name=micheal">api.nationalize</option>
        <option value="https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.405&current_weather=true">api.open-meteo</option>
        <option value="https://api.github.com/users/github">api.github</option>
        <option value="https://pokeapi.co/api/v2/pokemon/ditto">pokeapi.co</option>
        <option value="https://jsonplaceholder.typicode.com/comments">jsonplaceholder</option>
        <option value="https://api.quotable.io/random">api.quotable</option>
    </select>
    <br><br>
    All the JSON
    <div id="myDiv1">...</div>
</body>
</html>
