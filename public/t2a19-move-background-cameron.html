<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Move Background</title>
    <style>
        body {
            background-image: url('https://pixy.org/src/125/1250988.jpg');
            background-repeat: repeat;
            background-size: 130%;
            position: relative;
            overflow: hidden; /* Prevent scrolling */
        }
        #myImage01 {
            position: absolute;
            width: 100px;
            height: 80px;
            top: 700px;
            left: -500px;
            transition: top 0.5s; /* Smooth jump animation */
        }
        .spike {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: red; /* Color of spikes */
            clip-path: polygon(50% 0%, 100% 100%, 0% 100%); /* Triangle shape */
            top: 700px; /* Same level as myImage01 */
        }
    </style>
</head>
<body id="myBody">
    <h1 align="center">t2a19-move-background-cameron.html</h1>

    <input id="myButton01" type="button" value="Background Move Left" onclick="moveBackground()">
    
    <input type="button" value="Auto Background Left Faster" onclick="autoBackgroundFaster()">
    
    <input type="button" value="Auto Background Left Slower" onclick="autoBackgroundSlower()">
    
    <input type="button" value="Auto Move Left" onclick="startAutoMove()">
    
    <input type="button" value="Stop Background" onclick="stopBackground()"> <!-- New Stop button -->

    <img id="myImage01" src="https://pngimg.com/uploads/spongebob/spongebob_PNG1.png">

    <script>
        let myGlobal1x = 0;
        let myClock01;
        let myClock02;
        let mySpeed01 = 400;

        function moveBackground() {
            myGlobal1x -= 5;
            let myTemp = myGlobal1x + 'px 0px';
            document.getElementById('myBody').style.backgroundPosition = myTemp;

            // Move all spikes with the background
            const spikes = document.querySelectorAll('.spike');
            spikes.forEach(spike => {
                spike.style.left = (parseFloat(spike.style.left) - 5) + 'px';
            });
        }

        function autoBackgroundFaster() {
            clearInterval(myClock01);
            mySpeed01 -= 30;
            if (mySpeed01 < 10) { mySpeed01 = 10; }
            myClock01 = setInterval(moveBackground, mySpeed01);
        }

        function autoBackgroundSlower() {
            clearInterval(myClock01);
            mySpeed01 += 30;
            if (mySpeed01 > 1000) { mySpeed01 = 1000; }
            myClock01 = setInterval(moveBackground, mySpeed01);
        }

        function startAutoMove() {
            clearInterval(myClock02);
            myClock02 = setInterval(() => {
                document.getElementById('myButton01').click();
            }, 30);
        }

        function stopBackground() {
            clearInterval(myClock01); // Stop the auto movement
            clearInterval(myClock02); // Stop the auto move left
        }

        // Jump function for the image
        function jump() {
            const image = document.getElementById('myImage01');
            image.style.top = '600px'; // Jump height
            setTimeout(() => {
                image.style.top = '700px'; // Return to original position
            }, 500); // Duration of jump
        }

        // Event listener for the spacebar
        document.addEventListener('keydown', function(event) {
            if (event.code === 'Space') {
                event.preventDefault(); // Prevent scrolling down
                jump();
            }
        });

        // Function to create spikes
        function createSpike() {
            const spike = document.createElement('div');
            spike.className = 'spike';
            spike.style.left = Math.random() * (window.innerWidth - 20) + 'px'; // Random horizontal position
            document.body.appendChild(spike);
        }

        // Create spikes at intervals
        setInterval(() => {
            createSpike();
        }, 2000); // Create a spike every 2 seconds

    </script>
</body>
</html>
