<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Survival Game</title>
</head>
<body id="myBody" style="background-repeat:repeat; background-size: 80%" background="myBackground01.jpg">

<h1 align=center>Survival Game</h1>
<h3 align=center>Survive as long as you can!</h3>
<div align="center">
    <p>Time Survived: <span id="timer">0</span> seconds</p>
</div>

<script>
    // Global variables
    let myGlobalX = 0;
    let myClock;
    let gameTimer;
    let timeSurvived = 0;

    // Initialize positions
    let attacker = document.createElement("div");
    let defender = document.createElement("div");

    document.body.appendChild(attacker);
    document.body.appendChild(defender);

    // Styles for attacker and defender
    attacker.style = "position: absolute; width: 80px; height: 80px; background: red; top: 150px; left: 50px;";
    defender.style = "position: absolute; width: 80px; height: 80px; background: blue; top: 150px; left: 300px;";

    // Movement function for the attacker
    document.addEventListener("keydown", function(event) {
        const attackerPosition = parseInt(attacker.style.left);
        const defenderPosition = parseInt(defender.style.left);

        if (event.key === "ArrowLeft" && attackerPosition > 0) {
            attacker.style.left = attackerPosition - 10 + "px";
        } else if (event.key === "ArrowRight" && attackerPosition < window.innerWidth - 80) {
            attacker.style.left = attackerPosition + 10 + "px";
        }

        if (event.key === "a" && defenderPosition > 0) {
            defender.style.left = defenderPosition - 10 + "px";
        } else if (event.key === "d" && defenderPosition < window.innerWidth - 80) {
            defender.style.left = defenderPosition + 10 + "px";
        }

        myCheckHit();
    });

    // Collision detection
    function myHitOther(my1, my2) {
        const rect1 = my1.getBoundingClientRect();
        const rect2 = my2.getBoundingClientRect();

        return !(
            rect1.right < rect2.left ||
            rect1.left > rect2.right ||
            rect1.bottom < rect2.top ||
            rect1.top > rect2.bottom
        );
    }

    // Check for collisions
    function myCheckHit() {
        if (myHitOther(attacker, defender)) {
            alert("Game Over! Defender survived for " + timeSurvived + " seconds.");
            clearInterval(gameTimer);
            location.reload(); // Restart the game
        }
    }

    // Timer function
    function startTimer() {
        gameTimer = setInterval(() => {
            timeSurvived++;
            document.getElementById("timer").innerText = timeSurvived;
        }, 1000);
    }

    // Start the game timer
    startTimer();
</script>

</body>
</html>
