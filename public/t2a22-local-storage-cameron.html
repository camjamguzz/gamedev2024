<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Storage Example</title>
</head>
<body onload="loadStoredText()">

<h2>t2a22-local-storage-cameron.html</h2>

<!-- Input for storing and retrieving text -->
Text example: 
<input id="myText1" type="text" size="70" value="" placeholder="Write here to store"><br>

<!-- Button to store text -->
<input type="button" value="Store Text" onclick="storeText()">

<!-- Button to retrieve text -->
<input type="button" value="Retrieve Text" onclick="retrieveText()">

<script>
    // Function to load stored text when the page loads
    function loadStoredText() {
        const myStorage = localStorage.getItem('myStoredText');
        if (myStorage !== null) {
            document.getElementById('myText1').value = myStorage;
        }
    }

    // Function to store text in localStorage
    function storeText() {
        const textValue = document.getElementById('myText1').value;
        localStorage.setItem('myStoredText', textValue);
        alert(textValue + ' \nHas been stored');
        document.getElementById('myText1').value = ''; // Clear the input
    }

    // Function to retrieve text from localStorage
    function retrieveText() {
        const storedText = localStorage.getItem('myStoredText');
        if (storedText !== null) {
            document.getElementById('myText1').value = storedText;
            alert('Retrieved Text: ' + storedText);
        } else {
            alert('No text found in storage.');
        }
    }

    // Automatically save text when the user leaves the page
    window.onunload = function () {
        localStorage.setItem('myStoredText', document.getElementById('myText1').value);
    };
</script>

</body>
</html>
